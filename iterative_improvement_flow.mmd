graph TD
    A[📚 Published Posts Analysis] --> B[🔍 Post Analyzer]
    B --> C[📊 Style Patterns Extracted]
    C --> |"Writing patterns<br/>Data usage<br/>Structure analysis"| D[✏️ Prompt Generator]
    
    D --> E[🤖 Multi-Model Generation]
    E --> |"Claude, GPT-4<br/>Local models"| F[📝 Generated Posts]
    
    F --> G[⚖️ Comparative Evaluator]
    G --> |"Traditional metrics<br/>AP English grading"| H1[📏 Traditional Evaluation]
    G --> |"Gemini 2.5 Pro<br/>LLM-as-judge"| H2[🧠 LLM Judge Evaluation]
    
    H1 --> H[💬 Feedback Manager]
    H2 --> H
    H --> |"Specific improvements<br/>Score deltas<br/>Pattern analysis"| I[🔄 Iterative Improver]
    
    I --> |"Refined prompts<br/>Better parameters"| D
    
    J[📈 Braintrust Tracking] --> K[🎯 Experiment Logging]
    E --> K
    G --> K
    H2 --> K
    I --> K
    
    L[🗂️ ContentIndexer] --> E
    M[🏗️ BlogGenerator] --> E
    
    N[📋 Evaluation Criteria] --> H1
    O[⚙️ Model Configs] --> E
    R[🤖 Gemini 2.5 Pro] --> H2
    
    P[🏆 Best Results] --> Q[📄 Final Blog Post]
    I --> P
    
    style A fill:#e1f5fe
    style B fill:#f3e5f5
    style C fill:#e8f5e8
    style D fill:#fff3e0
    style E fill:#fce4ec
    style F fill:#f1f8e9
    style G fill:#e0f2f1
    style H1 fill:#fff8e1
    style H2 fill:#e8f5e8
    style H fill:#fff8e1
    style I fill:#e8eaf6
    style J fill:#f9fbe7
    style K fill:#f3e5f5
    style P fill:#ffebee
    style Q fill:#e8f5e8
    style R fill:#e1f5fe
    
    classDef processNode fill:#bbdefb,stroke:#1976d2,stroke-width:2px
    classDef dataNode fill:#c8e6c9,stroke:#388e3c,stroke-width:2px
    classDef outputNode fill:#ffcdd2,stroke:#d32f2f,stroke-width:2px
    classDef llmNode fill:#fff3e0,stroke:#ff9800,stroke-width:3px
    
    class A,F,P,Q outputNode
    class B,C,D,E,G,H1,H,I processNode
    class J,K,L,M,N,O dataNode
    class H2,R llmNode